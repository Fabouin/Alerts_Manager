action_dynasty_member_can_marry = {
	combine_into_one = yes
	priority = 99
	check_create_action = {
		if = {
			limit = {
				NOT = {
					has_character_flag = alertmanager_marriage_disabled
					has_character_flag = alertmanager_marriagedynasty_disabled
				} 
			}
			every_child = {
				limit = {
					is_landed = yes
					is_married = no
					is_betrothed = no
					can_marry_trigger = yes
					root = {
						is_character_interaction_valid = {
							recipient = prev
							interaction = marry_off_interaction
						}
					}
				}
				#Adulte
				if = {
					limit = {
						root = {
							NOT = {
								has_character_flag = alertmanager_marriagedynasty_adult_disabled
							}
						}
						is_adult = yes
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_boy_disabled
								}
							}
							is_female = no
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_girl_disabled
								}
							}
							is_female = yes
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
				}
				#Enfant
				if = {
					limit = {
						root = {
							NOT = {
								has_character_flag = alertmanager_marriagedynasty_child_disabled
							}
						}
						is_adult = no
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_boy_disabled
								}
							}
							is_female = no
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_girl_disabled
								}
							}
							is_female = yes
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
				}
			}
			every_courtier = {
				limit = {
					is_married = no
					is_betrothed = no
					dynasty = root.dynasty
					can_marry_trigger = yes
					root = {
						is_character_interaction_valid = {
							recipient = prev
							interaction = marry_off_interaction
						}
					}
				}
				if = {
					limit = {
						root = {
							NOT = {
								has_character_flag = alertmanager_marriagedynasty_adult_disabled
							}
						}
						is_adult = yes
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_boy_disabled
								}
							}
							is_female = no
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_girl_disabled
								}
							}
							is_female = yes
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								is_visibly_fertile = yes
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
				}
				#Enfant
				if = {
					limit = {
						root = {
							NOT = {
								has_character_flag = alertmanager_marriagedynasty_child_disabled
							}
						}
						is_adult = no
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_boy_disabled
								}
							}
							is_female = no
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
					if = {
						limit = {
							root = {
								NOT = {
									has_character_flag = alertmanager_marriagedynasty_girl_disabled
								}
							}
							is_female = yes
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									}
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
								OR = {
									has_trait = beauty_good_1
									has_trait = beauty_good_2
									has_trait = beauty_good_3
									has_trait = intellect_good_1
									has_trait = intellect_good_2
									has_trait = intellect_good_3
									has_trait = physique_good_1
									has_trait = physique_good_2
									has_trait = physique_good_3
									has_trait = fecund
									has_trait = pure_blooded
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									NOT = {
										has_character_flag = alertmanager_marriagedynasty_infertile_disabled
									}
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
						if = {
							limit = {
								root = {
									has_character_flag = alertmanager_marriagedynasty_unworthy_disabled
									has_character_flag = alertmanager_marriagedynasty_infertile_disabled
								}
							}
							if = {
								limit = {
									root = {
										NOT = {
											has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
										}
									}
									is_close_family_of = root
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
							if = {
								limit = {
									root = {
										has_character_flag = alertmanager_marriagedynasty_closefamily_disabled
									}
								}
								try_create_important_action = {
									important_action_type = action_dynasty_member_can_marry
									actor = root
									recipient = this
								}
							}
						}
					}
				}
			}
		}
	}
	effect = {
		scope:recipient = {
			open_view_data = {
				view = character
			}
		}
		open_interaction_window = {
			interaction = marry_off_interaction
			actor = scope:actor
			recipient = scope:recipient
		}
	}
}
